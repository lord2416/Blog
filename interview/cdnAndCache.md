#CDN
内容分发网络，指一组分布在各地存储数据副本并可根据就近原则满足数据请求的服务器
- 核心特征，缓存和回源
  缓存：把资源复制到CDN服务器
  回源：资源过期/不存在，就向上层服务器请求并复制到CDN服务器里
- 使用CDN可以降低网络拥塞，提高用户访问速度和命中率

#缓存
## 缓存策略
### 强缓存
1.由浏览器确定缓存资源是否可用，在缓存期间无需请求
2.expires 和 cache-control
- expires——过期时间——修改本地时间可能导致缓存失效
- cache-control——缓存指示:

    1.max-age:设置普通服务器的缓存时长
    2.s-max-age:设置代理服务器的缓存时长
    3.no-cache:绕开强缓存使用协商缓存
    4.no-store:无视所有缓存策略

- 区别:
  1.cache-control优先级高于expires
  2.s-max-age优先级高于max-age
  3.expires用时间戳表示, cache-control用时间长度表示
  4.expires——http1.0, cache-control——http1.1
### 协商缓存
1.由服务器确定缓存资源是否可用，存在条件判断
2.last-modified 和 etag
- last-modified —— 最后更新时间 —— 以秒计算,服务器可能无法正确感知文件变化
- Etag —— 实体标记 —— 由服务器生成的唯一标识，资源有变会重新生成

- 区别：
  1. Etag的精度优于Last-Modified
  2. Etag的性能逊于Last-Modified
  3. Etag的优先级高于Last-Modified
  4. Last-Modified用时间戳表示，Etag使用内容编码字符串表示

**整个缓存策略机制很明了，先走强缓存，若命中失败才走协商缓存。若命中强缓存，直接使用强缓存；若未命中强缓存，发送请求到服务器检查是否命中协商缓存；若命中协商缓存，服务器返回304通知浏览器使用本地缓存，否则返回最新资源。**

有两种较常用的应用场景值得使用缓存策略一试，当然更多应用场景都可根据项目需求制定。

-「频繁变动资源」：设置Cache-Control:no-cache，使浏览器每次都发送请求到服务器，配合Last-Modified/ETag验证资源是否有效

-「不常变化资源」：设置Cache-Control:max-age=31536000，对文件名哈希处理，当代码修改后生成新的文件名，当HTML文件引入文件名发生改变才会下载最新文件